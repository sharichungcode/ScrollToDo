<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Focused Prioritisation - ScrollToDo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
        .dragging {
            opacity: 0.5;
        }
    </style>
</head>
<body class="d-flex flex-column min-vh-100 bg-light">

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">ScrollToDo</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <a href="login.html" class="btn btn-outline-primary">Sign In</a>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container py-4">
        <!-- Breadcrumb -->
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="task-list-matrix.html">Back to Task List Matrix View</a></li>
                <li class="breadcrumb-item active" aria-current="page">Focused Prioritisation</li>
            </ol>
        </nav>

        <!-- Task Focus Card -->
        <div class="text-center mb-4">
            <h2 class="fw-bold">Focused Prioritisation</h2>
            <p class="text-muted">Drag or click to prioritise this task.</p>
        </div>

        <div class="d-flex justify-content-center">
            <div class="card shadow-sm p-4 bg-white" id="task-card" draggable="true">
                <div class="card-body text-center">
                    <small class="text-muted" id="task-deadline">Deadline: Feb 5, 2025</small>
                    <h3 class="fw-bold mt-2" id="task-title">Prepare Q1 Report</h3>
                    <p class="text-muted" id="task-desc">Compile and analyze sales and performance data for the Q1 report.</p>
                    <p><strong>Currently Assigned:</strong> <span id="task-quadrant" class="text-danger">Not Prioritised</span></p>

                    <div class="d-flex justify-content-between mt-3">
                        <button class="btn btn-outline-secondary" onclick="showPreviousTask()">
                            <i class="fas fa-arrow-left"></i> Previous
                        </button>
                        <span id="task-counter" class="fw-bold">3/10</span>
                        <button class="btn btn-outline-secondary" onclick="showNextTask()">
                            Next <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Drag and Drop Zones -->
        <div class="row text-center mt-5">
            <div class="col-md-3">
                <div class="drop-zone bg-danger text-white" data-priority="do-first">游댮 Do First</div>
            </div>
            <div class="col-md-3">
                <div class="drop-zone bg-warning text-dark" data-priority="schedule">游리 Schedule</div>
            </div>
            <div class="col-md-3">
                <div class="drop-zone bg-success text-white" data-priority="delegate">游릭 Delegate</div>
            </div>
            <div class="col-md-3">
                <div class="drop-zone bg-primary text-white" data-priority="eliminate">游댯 Eliminate</div>
            </div>
        </div>

        <!-- Buttons to Assign Quadrant -->
        <div class="text-center mt-4">
            <p class="fw-bold">Or use buttons to assign:</p>
            <button class="btn btn-danger m-1" onclick="assignTask('do-first')">游댮 Do First</button>
            <button class="btn btn-warning m-1" onclick="assignTask('schedule')">游리 Schedule</button>
            <button class="btn btn-success m-1" onclick="assignTask('delegate')">游릭 Delegate</button>
            <button class="btn btn-primary m-1" onclick="assignTask('eliminate')">游댯 Eliminate</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3 mt-auto">
        <p class="mb-0">춸 2025 ScrollToDo. All rights reserved.</p>
    </footer>

    <script>
        const taskCard = document.getElementById('task-card');
        const dropZones = document.querySelectorAll('.drop-zone');

        // Drag Start
        taskCard.addEventListener("dragstart", (e) => {
            e.dataTransfer.setData("text/plain", "focused-task");
            taskCard.classList.add("dragging");
        });

        // Drag End
        taskCard.addEventListener("dragend", () => {
            taskCard.classList.remove("dragging");
        });

        // Drag Over and Drop on Quadrants
        dropZones.forEach(zone => {
            zone.addEventListener("dragover", (e) => {
                e.preventDefault();
                zone.classList.add("drag-over");
            });

            zone.addEventListener("dragleave", () => {
                zone.classList.remove("drag-over");
            });

            zone.addEventListener("drop", (e) => {
                e.preventDefault();
                zone.classList.remove("drag-over");
                assignTask(zone.dataset.priority);
            });
        });

        // Assign Task to Quadrant
        function assignTask(priority) {
            let quadrantText = {
                "do-first": "游댮 Do First",
                "schedule": "游리 Schedule",
                "delegate": "游릭 Delegate",
                "eliminate": "游댯 Eliminate"
            };
            document.getElementById("task-quadrant").textContent = quadrantText[priority];
            document.getElementById("task-quadrant").className = `text-${priority === 'do-first' ? 'danger' :
                priority === 'schedule' ? 'warning' :
                priority === 'delegate' ? 'success' : 'primary'}`;
        }

        // Placeholder functions for previous & next tasks
        function showPreviousTask() {
            alert("Previous task loaded (Demo)");
        }

        function showNextTask() {
            alert("Next task loaded (Demo)");
        }
    </script>

</body>
</html>